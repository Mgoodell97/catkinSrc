<?xml version="1.0"?>
<launch>

  <arg name="simType"        default="2"/> # 1 = gaussian, 2 = gaden, 3 = MPS
  <arg name="xminMap" default="0"/>
  <arg name="xmaxMap" default="4.2"/>
  <arg name="yminMap" default="0"/>
  <arg name="ymaxMap" default="2.67"/>

  <group ns="PF" if="$(eval simType == 2)">
    <rosparam file="$(find platform_real_single)/config/pfParamsGadenSingle.yaml" />
  </group>
  <group ns="PF" if="$(eval simType == 3)">
    <rosparam file="$(find platform_real_single)/config/pfParamsRealSingle.yaml" />
  </group>

  # Launch Robot 1 group
  <group ns="Robot_1">
    <node name="PF" pkg="platform_real" type="fakeRobot1.py" output="screen">
      <param name="RobotID"  type="double"  value="1" />
    </node>
  </group>

  # Launch Robot 2 group
  <group ns="Robot_2">
    <node name="PF" pkg="platform_real" type="fakeRobot2.py" output="screen">
      <param name="RobotID"  type="double"  value="2" />
    </node>
  </group>

  # Launch Robot 3 group
  <group ns="Robot_3">
    <node name="PF" pkg="platform_real" type="fakeRobot3.py" output="screen">
      <param name="RobotID"  type="double"  value="3" />
    </node>
  </group>

  # Plot particles
  <node name="plotMergedPlumes" pkg="platform_real" type="mergePlumePlot.py" output="screen">
    <param name="xmin"     type="double"  value="$(arg xminMap)"    /> # m
    <param name="xmax"     type="double"  value="$(arg xmaxMap)"    /> # m
    <param name="ymin"     type="double"  value="$(arg yminMap)"    /> # m
    <param name="ymax"     type="double"  value="$(arg ymaxMap)"    /> # m
  </node>

  # Merge consumed plumes particles
  <node name="mergePlumesMaster" pkg="platform_real" type="mergePlumesMaster.py" output="screen"/>


</launch>
