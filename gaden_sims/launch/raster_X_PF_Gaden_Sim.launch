<?xml version="1.0"?>
<launch>

  <param name="startTest" type="bool"  value="True" />

  <include file="$(find gaden_sims)/launch/raster_PF_Gaden.launch">
    <arg name="stayTime" default="0.25"/>
    <arg name="xmin"     default="0.1"/>
    <arg name="xmax"     default="2.5"/>
    <arg name="ymin"     default="0.1"/>
    <arg name="ymax"     default="3.65"/>
  </include>


  # Start sim
  <include file="$(find plume_sims)/launch/gaden6.launch"/>

  # Create simulated sensor
  <node pkg="tf" type="static_transform_publisher" name="ROBOTS2GADEN" args="0.0 0.0 0.0 0 0 0 map_gaden world 100" />
  <node pkg="tf" type="static_transform_publisher" name="Robot_to_sensor1" args="0.0 0.0 0.0 0 0 0 Robot_1/base_link pid0_frame 50" />

  <group ns="Robot_1">
      <node pkg="simulated_gas_sensor" type="simulated_gas_sensor" name="fake_pid" output="log">
        <param name="/sensor_model" value="31" />
        <param name="/sensor_frame" value="pid0_frame" />
        <param name="/fixed_frame" value="map_gaden"/>
      </node>
  </group>

  # Plot readings
  <node pkg="rqt_plot" type="rqt_plot" name="rqt_plot1"  args="/Robot_1/Sensor_reading/raw"/>

</launch>
